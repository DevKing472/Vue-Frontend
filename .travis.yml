sudo: required
language: node_js

cache:
  yarn: true
  directories:
    - node_modules

install:
  - yarn

jobs:
  include:
    - &build
    - stage: Build
      script:
        - yarn lint
        - yarn build
      node_js: "10"

    - <<: *build
        node_js: '8'

    - &unit
    - stage: Tests
      script: yarn test:unit
      name: "Unit Tests"
      node_js: "10"

    - <<: *unit
      node_js: "8"

    - &installer
    - script: yarn installer:ci
      name: "Installer test"
      if: branch IN (master, develop)
      node_js: "10"
      addons:
        chrome: stable

    - <<: *installer
      node_js: "8"

